<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>AngularJS 1.x: Building Reusable Directives</title>
  <style>
    * {
      font-family: Georgia, Cambria, "Times New Roman", Times, serif;
    }

    html, body {
      margin: 0;
      padding: 0;
    }

    h1 {
      font-size: 50px;
      margin-bottom: 17px;
      color: #333;
    }

    h2 {
      font-size: 24px;
      line-height: 1.6;
      margin: 30px 0 0 0;
      margin-bottom: 18px;
      margin-top: 33px;
      color: #333;
    }

    h3 {
      font-size: 30px;
      margin: 10px 0 20px 0;
      color: #333;
    }

    header {
      width: 640px;
      margin: auto;
    }

    section {
      width: 640px;
      margin: auto;
    }

    section p {
      margin-bottom: 27px;
      font-size: 20px;
      line-height: 1.6;
      color: #333;
    }

    section img {
      max-width: 640px;
    }

    footer {
      padding: 0 20px;
      margin: 50px 0;
      text-align: center;
      font-size: 12px;
    }

    .aspectRatioPlaceholder {
      max-width: auto !important;
      max-height: auto !important;
    }

    .aspectRatioPlaceholder-fill {
      padding-bottom: 0 !important;
    }

    header,
    section[data-field=subtitle],
    section[data-field=description] {
      display: none;
    }
  </style>
</head>
<body>
<article class="h-entry">
  <header>
    <h1 class="p-name">AngularJS 1.x: Building Reusable Directives</h1>
  </header>
  <section data-field="subtitle" class="p-summary">
    The Power of Angular
  </section>
  <section data-field="body" class="e-content">
    <section name="9b3e"
             class="section section--body section--middleCenter section-image--aspectRatioViewport is-imageBackgrounded is-backgrounded is-darkBackgrounded u-imageSpectrum section--first">
      <div class="js-sectionPoint u-ignoreBlock u-textColorTransparentWhite u-absolute u-top0 u-left0"
           style="height: 1px; width: 1px;"></div>
      <div class="section-background u-width100pct u-absolute u-top0 u-cursorDefault u-bottom0"
           data-scroll="aspect-ratio-viewport" contenteditable="false" data-image-id="1*pO37CuLmtk-8U8NbZ7sRKQ.jpeg"
           data-width="1600" data-height="1000">
        <div class="section-backgroundImage u-absolute u-top0 u-left0 u-right0 u-backgroundCover u-bottom0"
             style="background-image: url(&quot;https://cdn-images-1.medium.com/max/NaN/1*pO37CuLmtk-8U8NbZ7sRKQ.jpeg&quot;); background-position: 50% 50% !important;"></div>
        <div class="u-ignoreBlock u-absolute0 u-borderRadius3"></div>
        <br></div>
      <div class="section-doubleWidthTable u-table u-ignoreBlock">
        <div class="section-contentCell u-tableCell u-verticalAlignTop u-ignoreBlock">
          <div class="section-aspectRatioViewportBottomSpacer u-ignoreBlock">
            <div class="u-ignoreBlock" style="padding-bottom: 31.25%;"></div>
          </div>
          <div class="section-doubleWidthTable u-table u-ignoreBlock">
            <div class="section-contentCell u-tableCell u-ignoreBlock">
              <div class="section-content">
                <div class="section-inner sectionLayout--insetColumn"><h2 name="bfca" id="bfca"
                                                                          class="graf graf--h2 graf--leading graf--trailing graf--title">
                  AngularJS 1.x: Building Reusable Directives</h2></div>
              </div>
            </div>
            <div class="u-tableCell u-verticalAlignTop u-ignoreBlock">
              <div class="section-aspectRatioViewportPlaceholder u-ignoreBlock">
                <div class="u-ignoreBlock" style="padding-bottom: 62.5%;"></div>
              </div>
              <div class="section-aspectRatioViewportBottomPlaceholder u-ignoreBlock">
                <div class="u-ignoreBlock" style="padding-bottom: 31.25%;"></div>
              </div>
            </div>
          </div>
        </div>
        <div class="u-tableCell u-ignoreBlock">
          <div class="section-aspectRatioViewportCropPlaceholder u-ignoreBlock">
            <div class="u-ignoreBlock" style="padding-bottom: 62.5%;"></div>
          </div>
        </div>
      </div>
      <div class="section-captionContent u-ignoreBlock"></div>
    </section>
    <section name="34eb" class="section section--body">
      <div class="section-divider">
        <hr class="section-divider">
      </div>
      <div class="section-content">
        <div class="section-inner sectionLayout--insetColumn"><h4 name="dd3a" id="dd3a"
                                                                  class="graf graf--h4 graf--leading">The Power
          of Angular</h4>
          <p name="5692" id="5692" class="graf graf--p graf-after--h4 graf--trailing">Angular offers many benefits to
            developers building complex web applications. Expressive HTML, model and view syncing and dependency
            injection are a few of the most powerful. But the true power of Angular comes from the whole being greater
            than the sum of its parts. This is something that is difficult to relay in its entirety through a blog post
            or a single example (and difficult to grasp period!). Like with all programming languages or deeply
            thoughtful frameworks, an understanding of best practices is probably best teased out through experience
            solving real problems and maintaining real code. Nonetheless, I think the best place to begin digging is
            reusable directives: Angular provides the developer the unique ability to underwrite simple, elegant and
            importantly, reusable components around which maintainable domain specific applications can come into shape.
            There, much of Angular’s power comes into focus. And with the release of Angular 2 on the horizon, there’s
            no better time to write reusable directives (component-based directives anyone?). So let’s begin!</p></div>
      </div>
    </section>
    <section name="fc7d" class="section section--body section--last">
      <div class="section-divider">
        <hr class="section-divider">
      </div>
      <div class="section-content">
        <div class="section-inner sectionLayout--insetColumn"><h3 name="2ff2" id="2ff2"
                                                                  class="graf graf--h3 graf--leading">nullifyModel</h3>
          <p name="33a9" id="33a9" class="graf graf--p graf-after--h3">Client-side web applications often must expressly
            nullify “falsey” form data to correctly interact with a server-side API and effect the desired change to the
            database. Repeating such type conversion logic with every form would unnecessarily grow the code base,
            obscure the logic actually unique to each form and clearly violate the D.R.Y. (Don’t Repeat Yourself)
            principle. One solution might be to place such logic in a service and inject it into every controller or
            link function corresponding to the desired form. This is a fine solution that avoids repetition by ushering
            the logic into one place. However, this would require <strong
                class="markup--strong markup--p-strong">$watch</strong>ing each model of interest for any “falsey” value
            in order to expressly nullify the model upon such an event. This feels unnecessarily heavy handed. Why watch
            the model for all changes when the work that needs to be performed must happen only upon a prescribed and
            limited set of events (i.e. “falsey”ness)? Not to worry; with Angular, you can do one better. The ng-model
            controller API together with Angular’s powerful directive API allow you to cabin the logic in its proper
            place, avoid adding the unnecessary $watch and, ultimately, make your HTML come to life.</p>
          <p name="862a" id="862a" class="graf graf--p graf-after--p">Here’s what the HTML consuming the directive might
            look like:</p>
          <figure name="63f1" id="63f1" class="graf graf--figure graf--iframe graf-after--p"></figure>
          <p name="b0e0" id="b0e0" class="graf graf--p graf-after--figure">Notice how the interface is exceedingly
            simple. Type ‘nullify-model’ (13 characters by my count) into any input tag, even one that’s already part of
            another custom form component, and any “falsey” value will be translated to ‘null’ for correct server-side
            processing. And the HTML is expressive! The behavior added to the input tag can be easily surmised from the
            attribute aptly named “nullifyModel”. Now, looking under the hood at the directive’s implementation:</p>
          <figure name="f281" id="f281" class="graf graf--figure graf--iframe graf-after--p"></figure>
          <p name="5e4e" id="5e4e" class="graf graf--p graf-after--figure">Notice that I’ve moved the nullify logic into
            a separate filter so it’s accessible/reusable elsewhere throughout the application if necessary:</p>
          <figure name="b95b" id="b95b" class="graf graf--figure graf--iframe graf-after--p"></figure>
          <p name="c1f9" id="c1f9" class="graf graf--p graf-after--figure">Ahhhh… so easy to read and so simple! All
            values inputted into the input element by a user will be <strong class="markup--strong markup--p-strong">$parse</strong>d
            for “falsey” values and converted expressly to null. Ng-model controller’s $parse method runs the ‘nullify’
            filter <em class="markup--em markup--p-em">prior to </em>assigning any <em class="markup--em markup--p-em">return
              value</em> to the model. As a result, the model may never reference a “falsey” value and no longer needs
            to be <strong class="markup--strong markup--p-strong">$watch</strong>ed for such an event. Dependency
            injection allows the nullify logic to be what it is — a filter replacing one value with another — and only
            injected when needed, in this case, into the ‘nullifyModel’ directive. The true “trick”, however, is that
            all of Angular’s power is on display. Data and view syncing, dependency injection and the Angular directive
            API allow for expressive HTML and the creation of a (hopefully!) reusable directive.</p>
          <p name="3ef9" id="3ef9" class="graf graf--p graf-after--p">Quotes of the Day:</p>
          <blockquote name="207e" id="207e" class="graf graf--blockquote graf-after--p">Writing software as multiple
            layers is a powerful technique even within applications. Bottom-up programming means writing a program as a
            series of layers, each of which serves as a language for the one above. This approach tends to yield
            smaller, more flexible programs. It’s also the best route to that holy grail, reusability. A language is by
            definition reusable. The more of your application you can push down into a language for writing that type of
            application, the more of your software will be reusable. — <a href="http://www.paulgraham.com/hundred.html"
                                                                          data-href="http://www.paulgraham.com/hundred.html"
                                                                          class="markup--anchor markup--blockquote-anchor"
                                                                          rel="noopener" target="_blank">Paul Graham</a>
          </blockquote>
          <blockquote name="da5c" id="da5c" class="graf graf--blockquote graf-after--blockquote graf--trailing">Code is
            inert. How do you make it ert? You run software that transforms it into machine language. The word
            “language” is a little ambitious here, given that you can make a computing device with wood and marbles.
            Your goal is to turn your code into an explicit list of instructions that can be carried out by
            interconnected logic gates, thus turning your code into something that can be executed — software. — <a
                href="http://www.bloomberg.com/graphics/2015-paul-ford-what-is-code/"
                data-href="http://www.bloomberg.com/graphics/2015-paul-ford-what-is-code/"
                class="markup--anchor markup--blockquote-anchor" rel="noopener" target="_blank">Paul Ford</a>
          </blockquote>
        </div>
      </div>
    </section>
  </section>
  <footer>
    <p>By <a href="https://medium.com/@jbmilgrom" class="p-author h-card">Jonathan Milgrom</a> on <a
        href="https://medium.com/p/46a6dfe21007">
      <time class="dt-published" datetime="2015-06-23T17:19:35.804Z">June 23, 2015</time>
    </a>.
    </p>
    <p><a href="https://medium.com/@jbmilgrom/angularjs-1-x-46a6dfe21007" class="p-canonical">Canonical link</a></p>
    <p>Exported from <a href="https://medium.com">Medium</a> on May 2, 2020.</p></footer>
</article>
</body>
</html>